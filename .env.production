# ============================================================================
# ORBIT V3 BACKEND - PRODUCTION ENVIRONMENT VARIABLES
# ============================================================================
# This file is a template for Railway.app deployment
# Copy values to Railway's environment variable UI
# SECURITY WARNING: Never commit this file with real secrets!
# ============================================================================

# ============================================================================
# APPLICATION SETTINGS
# ============================================================================
APP_NAME=Orbit V3 Backend
APP_VERSION=1.0.0
ENVIRONMENT=production
DEBUG=false
LOG_LEVEL=WARNING

# ============================================================================
# SERVER CONFIGURATION
# ============================================================================
HOST=0.0.0.0
# Railway auto-injects PORT - do not set manually
WORKERS=4

# ============================================================================
# DATABASE CONFIGURATION
# ============================================================================
# Railway auto-injects DATABASE_URL from PostgreSQL service
# Reference: ${{Postgres.DATABASE_URL}}
DATABASE_URL=${{Postgres.DATABASE_URL}}
DATABASE_POOL_SIZE=20
DATABASE_MAX_OVERFLOW=10
DATABASE_ECHO=false

# ============================================================================
# REDIS CONFIGURATION
# ============================================================================
# Railway auto-injects REDIS_URL from Redis service
# Reference: ${{Redis.REDIS_URL}}
REDIS_URL=${{Redis.REDIS_URL}}
REDIS_MAX_CONNECTIONS=50
SESSION_TTL_SECONDS=86400
MESSAGE_CACHE_TTL_SECONDS=3600

# ============================================================================
# LLM PROVIDER SETTINGS
# ============================================================================
LLM_PROVIDER=anthropic
# REQUIRED: Replace with your actual API key
ANTHROPIC_API_KEY=sk-ant-api03-XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
ANTHROPIC_MODEL=claude-3-5-sonnet-20241022
ANTHROPIC_MAX_TOKENS=4096

# OpenAI (optional backup)
OPENAI_API_KEY=
OPENAI_MODEL=gpt-4-turbo-preview
OPENAI_MAX_TOKENS=4096
OPENAI_TEMPERATURE=0.7

# ============================================================================
# N8N INTEGRATION
# ============================================================================
N8N_BASE_URL=https://n8n-wsex.sliplane.app
N8N_WEBHOOK_EMAIL_READ=/webhook/email-read
N8N_WEBHOOK_CALENDAR_CREATE=/webhook/calendar-create
N8N_WEBHOOK_OCR_PROCESS=/webhook/ocr-process
N8N_API_KEY=
N8N_TIMEOUT_SECONDS=30
N8N_MAX_RETRIES=3

# ============================================================================
# AUTHENTICATION & SECURITY
# ============================================================================
# CRITICAL: Generate with: openssl rand -hex 32
# NEVER use the development key in production!
SECRET_KEY=REPLACE_WITH_SECURE_RANDOM_KEY_FROM_OPENSSL
JWT_ALGORITHM=HS256
JWT_EXPIRE_MINUTES=10080

# CORS Origins - Add your production frontend URL
CORS_ORIGINS=https://voice-assistant-ui.vercel.app,https://your-production-domain.vercel.app

# ============================================================================
# WEBSOCKET SETTINGS
# ============================================================================
WS_HEARTBEAT_INTERVAL=30
WS_MAX_CONNECTIONS_PER_SESSION=5
WS_CONNECTION_TIMEOUT=300

# ============================================================================
# RATE LIMITING
# ============================================================================
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_BURST=20

# ============================================================================
# MONITORING & OBSERVABILITY
# ============================================================================
# Sentry Error Tracking (recommended for production)
SENTRY_DSN=
SENTRY_TRACES_SAMPLE_RATE=0.1

# Prometheus Metrics
PROMETHEUS_ENABLED=true

# ============================================================================
# FEATURE FLAGS
# ============================================================================
FEATURE_VOICE_INPUT=true
FEATURE_PROACTIVE_NOTIFICATIONS=true
FEATURE_BACKGROUND_TASKS=false

# ============================================================================
# NOTIFICATION SETTINGS
# ============================================================================
NOTIFICATION_RETENTION_DAYS=30

# ============================================================================
# PRODUCTION DEPLOYMENT CHECKLIST
# ============================================================================
# [ ] SECRET_KEY replaced with secure random value (openssl rand -hex 32)
# [ ] ANTHROPIC_API_KEY set with production API key
# [ ] CORS_ORIGINS updated with production frontend URL
# [ ] ENVIRONMENT set to "production"
# [ ] DEBUG set to "false"
# [ ] LOG_LEVEL set to "WARNING" or "ERROR"
# [ ] Database and Redis URLs reference Railway services
# [ ] Sentry DSN configured (optional but recommended)
# [ ] Health check endpoint tested: /health
# [ ] Database migrations applied: alembic upgrade head
# [ ] API documentation verified: /docs
# [ ] WebSocket connection tested: /ws/{session_id}
# ============================================================================
